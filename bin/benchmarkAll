#!/usr/bin/env python

import os
import subprocess

threads = [1,2,4,8,16,32,64]

fieldsizes = [
    "100",
    "1000",
]

keys = [
    "1000",
    "100000",
]

typeTr = [
    "SI",
    "NMSI",
]

distributions = [
    "uniform",
    "zipfian"
]

for i in range(1,4):
    for fieldsize in fieldsizes:
        for key in keys:
            for distribution in distributions:
                for thread in threads:
                    for typeT in typeTr:
                        workload = "k{0}_f{1}_{2}".format(key,fieldsize,distribution)
                        # Usage: ./bin/benchmarkconsole pathToResults distribuiton workload algorithm recordcount threads fieldsize
                        call = "./bin/benchmarkconsole /local/cj.gomes/result/ {0} {1} {2} {3} {4} {5}".format(distribution,workload,typeT, key, thread, fieldsize)
                        # print workload
                        # print call
                        os.system(call)

subprocess.Popen('cat /home/a41903/mail.txt | /local/cj.gomes/mail/msmtp/bin/msmtp -t cj.gomes@campus.fct.unl.pt', shell=True)
subprocess.Popen('cp /local/cj.gomes/result/* ~/raw', shell=True)